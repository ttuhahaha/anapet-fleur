function randomHash(){let x="0123456789abcdef",hash="0x";for(let i=64;i>0;--i)hash+=x[Math.floor(Math.random()*x.length)];return hash}function hashDecode(){let p=[];for(let i=0;i<64;i+=2)p.push(tokenData.hash.slice(i+2,i+4));let P=p.map(x=>parseInt(x,16)%10+1);console.log(tokenData.hash),console.log(P),assign(P)}function assign(P){TYPE=P[30]%5;let prms=[{layers:[6,7],petals:[6,7],pointy:2,closed:!0},{layers:[3,4],petals:[5,7],t23R:[1,1.3,1.4,1.6],stamen:!0,pointy:2},{layers:[8,9],petals:[8,12],pointy:1,closed:!0},{layers:[3,6],petals:[5,9],t23R:[.6,.8,1.2,1.5],stamen:!0},{layers:[4,5],petals:[5,7],t23R:[1.6,2,2.5,2.7],closed:!0}];hu=map(P[9]*P[10]*P[11],3,150,0,450)%360,noiseSeed(P.reduce((a,b)=>a*b)),maxstamen=prms[TYPE].stamen?P[12]+8:0,tx=0==TYPE?40+2*P[12]:4==TYPE?50:10*P[12],ty=0==TYPE?50+P[13]:4==TYPE?140:10*P[13],tx*=bx,ty*=.7*bx,home=createVector(width/2-tx,height/2-ty),home.lerp(0,0,0,.75),wr=map(P[15],1,10,0,-.2),sw=map(P[17],1,10,.3,.7),feature=P[20]+P[15];let maxflID=home.mag()>10*bx&&3==TYPE?prms[TYPE].layers[0]:floor(map(P[0],1,10,prms[TYPE].layers[0],prms[TYPE].layers[1]));for(layers=Array.from({length:maxflID},()=>({})),i=0;i<maxflID;i++){layers[i].petals=floor(map(P[i],1,10,prms[TYPE].petals[0],prms[TYPE].petals[1])),layers[i].R=0==i?2*P[i]+26*bx:.7*layers[i-1].R,layers[i].t2R=prms[TYPE].t23R?map(P[11],1,10,prms[TYPE].t23R[0],prms[TYPE].t23R[1])*layers[i].R:map(P[11],1,10,1,1.5)*layers[i].R,layers[i].t3R=prms[TYPE].t23R?map(P[11],1,10,prms[TYPE].t23R[2],prms[TYPE].t23R[3])*layers[i].R:map(P[12],1,10,1.2,1.6)*layers[i].R;let h=home.copy();layers[i].thome=4==TYPE?h.mult(8):h.mult(1+3/maxflID),layers[i].pointy=1==prms[TYPE].pointy||null!=prms[TYPE].pointy&&nz()>.6,i==maxflID-1&&(layers[i].closed=prms[TYPE].closed)}LLR=layers[maxflID-1].R,console.log("TYPE "+TYPE),console.log(prms),console.log("hue "+hu),console.log("maxstamen "+maxstamen),console.log("petalwidth wr"+wr),console.log("swirl ",+sw),console.log("feature ",+feature),console.log(layers)}function nz(x){return NZ+=1,x?noise(NZ)-.5:noise(NZ)}function nzr(){return NZR+=1,noise(NZR)}tokenData={hash:randomHash(),tokenId:""};